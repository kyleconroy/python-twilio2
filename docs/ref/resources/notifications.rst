.. _ref-resources-notifications:

.. module:: twilio.api

Notifications Resource
======================

Filter Notifications by Log Level
---------------------------------

.. code-block:: python

    import twilio

    conn = twilio.api.Client()
    for n in conn.notifications.list(log_level=0) 
        print n.error_code


Reference
---------

.. class:: Notifications

   .. method:: list(before=None, after=None, log_level=None)

      Returns a page of :class:`Notification` resources as a list. For paging informtion see :class:`ListResource`. 

      **NOTE**: Due to the potentially voluminous amount of data in a notification, the full HTTP request and response data is only returned in the Notification instance resource representation.
   
      :param date after: Only list notifications logged after this datetime
      :param date before: Only list notifications logger before this datetime
      :param log_level: If 1, only shows errors. If 0, only show warnings

.. class:: Notification

   .. attribute:: sid

      A 34 character string that uniquely identifies this resource.

   .. attribute:: date_created

      The date that this resource was created, given in RFC 2822 format.

   .. attribute:: date_updated

      The date that this resource was last updated, given in RFC 2822 format.

   .. attribute:: account_sid

      The unique id of the Account responsible for this notification.

   .. attribute:: call_sid

      CallSid is the unique id of the call during which the notification was generated. Empty if the notification was generated by the REST API without regard to a specific phone call.

   .. attribute:: api_version

      The version of the Twilio in use when this notification was generated.

   .. attribute:: log

      An integer log level corresponding to the type of notification: 0 is ERROR, 1 is WARNING.

   .. attribute:: error_code

      A unique error code for the error condition. You can lookup errors, with possible causes and solutions, in our Error Dictionary.

   .. attribute:: more_info

      A URL for more information about the error condition. The URL is a page in our Error Dictionary.

   .. attribute:: message_text

      The text of the notification.

   .. attribute:: message_date

      The date the notification was actually generated, given in RFC 2822 format. Due to buffering, this may be slightly different than the DateCreated date.

   .. attribute:: request_url

      The URL of the resource that generated the notification. If the notification was generated during a phone call: This is the URL of the resource on YOUR SERVER that caused the notification. If the notification was generated by your use of the REST API: This is the URL of the REST resource you were attempting to request on Twilio's servers.

   .. attribute:: request_method

      The HTTP method in use for the request that generated the notification. If the notification was generated during a phone call: The HTTP Method use to request the resource on your server. If the notification was generated by your use of the REST API: This is the HTTP method used in your request to the REST resource on Twilio's servers.

   .. attribute:: request_variables

      The Twilio-generated HTTP GET or POST variables sent to your server. Alternatively, if the notification was generated by the REST API, this field will include any HTTP POST or PUT variables you sent to the REST API.

   .. attribute:: response_headers

      The HTTP headers returned by your server.

   .. attribute:: response_body

      The HTTP body returned by your server.

   .. attribute:: uri

      The URI for this resource, relative to https://api.twilio.com

